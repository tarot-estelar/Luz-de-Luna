<!DOCTYPE html>
<html lang="es">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N5WR8LC8ZT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-N5WR8LC8ZT');
</script>
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Luz de Luna - Tarot</title>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <style>
    body {
      font-family: 'Georgia', serif;
      background-color: #1c1b2f;
      color: #f0e6ff;
      text-align: center;
      padding: 35px;
    }

    h1 {
      font-size: 2.5rem;
      color: #dabfff;
    }

    .btn {
      background-color: #9c27b0;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 10px;
      font-size: 1.2rem;
      cursor: pointer;
      margin-top: 20px;
    }

    .btn:hover {
      background-color: #7b1fa2;
    }

    .card {
      margin-top: 30px;
      padding: 20px;
      background-color: #2e2c47;
      border-radius: 12px;
      box-shadow: 0 0 15px #8e44ad;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    img {
      max-width: 200px;
      margin: 20px 0;
    }

    .ad {
      margin: 40px 0;
      padding: 20px;
      background: #3d395e;
      border-radius: 8px;
    }

    footer {
      margin-top: 60px;
      font-size: 0.9rem;
      color: #aaa;
    }

    a {
      color: #ffcaff;
    }
      
    .tituloCompartir {
      display: inline-block;
      margin-top: 8px;
      padding: 4px 12px;
      border: 1px solid rgba(255,255,255,0.6);
      border-radius: 6px;
      background-color: rgba(255,255,255,0.1);
      font-weight: bold;
      color: #f0e6ff;
      font-size: 1rem;
    }

    .signo-info {
      background-color: rgba(255, 255, 255, 0.05);
      padding: 15px;
      margin: 15px 0;
      border-radius: 8px;
      border-left: 4px solid #dabfff;
    }
  </style>
</head>
<body>

  <h1>Tu carta de Tarot</h1>
  <p>Conecta con tu energÃ­a hoy.âœ¨</p>
 
  <label for="fechaNacimiento"> IngresÃ¡ tu fecha de nacimiento:</label><br>
  <input type="date" id="fechaNacimiento" style="margin: 10px; padding: 5px; border-radius: 6px;"><br>

  <label for="preguntaUsuario"> EscribÃ­ tu pregunta o intenciÃ³n:</label><br>
  <input type="text" id="preguntaUsuario" placeholder="Â¿QuÃ© necesito saber hoy?" style="margin: 10px; padding: 5px; width: 30%; border-radius: 6px;"><br>

  <button class="btn" onclick="iniciarLectura()">Tu Carta</button>

  <div id="mensajeBarajar" style="display:none; font-size: 1.2rem; margin-top: 20px;">ðŸ”® Conectando con tu energÃ­a...</div>

  <div id="resultado" class="card" style="display: none;">
    <h2 id="nombreCarta"></h2>
    <!-- Agregamos crossorigin para html2canvas -->
    <img id="imagenCarta" crossorigin="anonymous" src="" alt="Carta de Tarot" />

    <div id="marcaSitio" style="
      background-color: rgba(255, 255, 255, 0.05);
      padding: 10px 20px;
      margin-top: 8px;
      border-radius: 8px;
      font-weight: bold;
      color: #dabfff;
      font-size: 1.1rem;
      width: 90%;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    ">
      Luz de Luna â€“ Tarot ðŸ”®
    </div>
   
    <p><strong>ðŸŒŸMensaje:</strong> <span id="resumenCarta"></span></p>
    <p><strong>ðŸ”‘Palabras clave:</strong> <span id="palabrasClaveCarta"></span></p>
    <p><strong>ðŸ§­Consejo:</strong> <span id="consejoCarta"></span></p>
    
    <!-- InformaciÃ³n del signo zodiacal y fase lunar -->
    <div class="signo-info">
      <p><strong>âœ¨ Signo zodiacal:</strong> <span id="signoZodiaco"></span></p>
      <p><strong>ðŸŒ™ Fase lunar hoy:</strong> <span id="faseLunar"></span></p>
    </div>
    
    <button class="btn" onclick="generarImagen()" id="botonCompartir" style="display: none;">
      Compartir tu carta
    </button>
  </div>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1330671703784338"
     crossorigin="anonymous"></script>
  <!-- Banner inferior -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-1330671703784338"
       data-ad-slot="6495754373"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
   
  <p>Si te gustÃ³ <a href="https://www.buymeacoffee.com/luzdelunatarot" target="_blank">Podes invitarme un cafecito ðŸ’–</a></p>

  <footer>
    <p>Â© 2025 Luz de Luna - Tarot - Sitio solamente con fines espirituales </p>
  </footer>

  <script>
    const cartas = [
      {
        nombre: "El Loco",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20loco.jpg",
        resumen: "ConfÃ­a en el viaje.",
        palabrasClave: "Nuevos comienzos, aventura, espontaneidad",
        consejo: "SoltÃ¡ el miedo. Animate a dar el salto sin certezas."
      },
      {
        nombre: "El Mago",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20mago.jpg",
        resumen: "TenÃ©s todos los recursos para manifestar lo que deseÃ¡s.",
        palabrasClave: "Voluntad â€“ AcciÃ³n â€“ Poder â€“ Creatividad",
        consejo: "CanalizÃ¡ tu energÃ­a. TomÃ¡ el control y hacÃ© que las cosas sucedan."
      },
      {
        nombre: "La Sacerdotisa",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/la%20sacerdotista.jpg",
        resumen: "El conocimiento estÃ¡ dentro tuyo.",
        palabrasClave: "IntuiciÃ³n â€“ Misterio â€“ SabidurÃ­a interior â€“ Paciencia",
        consejo: "EscuchÃ¡ tu voz interna antes de actuar."
      },
      {
        nombre: "La Emperatriz",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/la%20emperatriz.jpg",
        resumen: "Abundancia, fertilidad, creatividad.",
        palabrasClave: "Belleza â€“ Cuidado â€“ Ciclos naturales",
        consejo: "CuidÃ¡ lo que estÃ¡s gestando. Todo florecerÃ¡."
      },
      {
        nombre: "El Emperador",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20emperador.jpg",
        resumen: "Orden, estructura y autoridad.",
        palabrasClave: "Estabilidad â€“ Disciplina â€“ ProtecciÃ³n â€“ Responsabilidad",
        consejo: "Organizate y tomÃ¡ el mando con sabidurÃ­a."
      },
      {
        nombre: "El Hierofante",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20hierofante.jpg",
        resumen: "TradiciÃ³n, guÃ­a espiritual y aprendizaje.",
        palabrasClave: "EnseÃ±anza â€“ Valores â€“ ConexiÃ³n espiritual â€“ Comunidad",
        consejo: "BuscÃ¡ guÃ­a o compartÃ­ tu experiencia."
      },
      {
        nombre: "Los Enamorados",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/los%20enamorados.jpg",
        resumen: "UniÃ³n, decisiones y armonÃ­a.",
        palabrasClave: "Amor â€“ Dualidad â€“ ElecciÃ³n â€“ ConexiÃ³n",
        consejo: "ElegÃ­ desde el amor, no desde el miedo."
      },
      {
        nombre: "El Carro",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20carro.jpg",
        resumen: "Victoria sobre obstÃ¡culos.",
        palabrasClave: "Voluntad â€“ Movimiento â€“ DeterminaciÃ³n â€“ Ã‰xito",
        consejo: "DefinÃ­ tu objetivo y seguÃ­ adelante con firmeza."
      },
      {
        nombre: "La Justicia",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/la%20justicia%202.jpg",
        resumen: "Equilibrio, decisiones y karma.",
        palabrasClave: "Verdad â€“ Justicia â€“ Responsabilidad",
        consejo: "SÃ© honesto con vos y con los demÃ¡s."
      },
      {
        nombre: "El ErmitaÃ±o",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/el%20ermita%C3%B1o.jpg",
        resumen: "BÃºsqueda interior y sabidurÃ­a.",
        palabrasClave: "IntrospecciÃ³n â€“ Silencio â€“ GuÃ­a interna",
        consejo: "Tomate un tiempo para vos. Escuchate."
      },
      {
        nombre: "La Rueda de la Fortuna",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/la%20rueda%20de%20la%20fortuna%202.jpg",
        resumen: "Cambio y ciclos.",
        palabrasClave: "Destino â€“ Suerte â€“ Oportunidad",
        consejo: "ConfiÃ¡ en los giros del destino."
      },
      {
        nombre: "La Fuerza",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/la%20fuerza.jpg",
        resumen: "Dominio propio desde la dulzura.",
        palabrasClave: "Coraje â€“ CompasiÃ³n â€“ Control interno",
        consejo: "Tu fuerza estÃ¡ en la calma."
      },
      {
        nombre: "El Colgado",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20colgado.jpg",
        resumen: "RendiciÃ³n y cambio de perspectiva.",
        palabrasClave: "Pausa â€“ Entrega â€“ Nueva visiÃ³n",
        consejo: "EsperÃ¡ y mirÃ¡ desde otro Ã¡ngulo."
      },
      {
        nombre: "La Muerte",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/la%20muerte.jpg",
        resumen: "TransformaciÃ³n y fin de ciclo.",
        palabrasClave: "Renacimiento â€“ Cambio â€“ LiberaciÃ³n",
        consejo: "SoltÃ¡ lo que ya cumpliÃ³ su etapa."
      },
      {
        nombre: "La Templanza",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/la%20templanza.jpg",
        resumen: "Equilibrio, sanaciÃ³n e integraciÃ³n.",
        palabrasClave: "Paz â€“ ArmonÃ­a â€“ ModeraciÃ³n",
        consejo: "BuscÃ¡ el balance en todo lo que hagas."
      },
      {
        nombre: "El Diablo",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20diablo.jpg",
        resumen: "Apegos, tentaciones y sombras.",
        palabrasClave: "Dependencia â€“ Deseo â€“ IlusiÃ³n",
        consejo: "ReconocÃ© tus cadenas y elegÃ­ liberarte."
      },
      {
        nombre: "La Torre",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/la%20torre.jpg",
        resumen: "Ruptura inesperada que libera.",
        palabrasClave: "Crisis â€“ Despertar â€“ LiberaciÃ³n",
        consejo: "AgradecÃ© la verdad que se revela."
      },
      {
        nombre: "La Estrella",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/la%20estrella%202.jpg",
        resumen: "Esperanza, guÃ­a espiritual, inspiraciÃ³n.",
        palabrasClave: "Fe â€“ ArmonÃ­a â€“ RenovaciÃ³n",
        consejo: "ConfiÃ¡ en el universo."
      },
      {
        nombre: "La Luna",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/la%20luna%203.png",
        resumen: "IntuiciÃ³n, confusiÃ³n y misterio.",
        palabrasClave: "Ciclos â€“ Emociones â€“ IlusiÃ³n",
        consejo: "No tomes decisiones en la niebla."
      },
      {
        nombre: "El Sol",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20sol.jpg",
        resumen: "AlegrÃ­a, claridad y Ã©xito.",
        palabrasClave: "Vitalidad â€“ Verdad â€“ Felicidad",
        consejo: "DisfrutÃ¡ y compartÃ­ tu luz."
      },
      {
        nombre: "El Juicio",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/e5eea9356ddd899ef598dc87873faa1fd81b45e2/el%20juicio.jpg",
        resumen: "Llamado interior y despertar.",
        palabrasClave: "RedenciÃ³n â€“ DecisiÃ³n â€“ EvaluaciÃ³n",
        consejo: "EscuchÃ¡ tu verdad y actuÃ¡ desde el alma."
      },
      {
        nombre: "El Mundo",
        imagen: "https://raw.githubusercontent.com/tarot-estelar/Tarot-Estelar/main/el%20mundo.jpg",
        resumen: "Plenitud, cierre de ciclo y Ã©xito.",
        palabrasClave: "IntegraciÃ³n â€“ Cumplimiento â€“ Unidad",
        consejo: "CelebrÃ¡ lo que lograste."
      }
    ];

    // FunciÃ³n para calcular el signo zodiacal
    function calcularSignoZodiacal(fecha) {
      const fechaNac = new Date(fecha);
      const dia = fechaNac.getDate();
      const mes = fechaNac.getMonth() + 1; // getMonth() devuelve 0-11

      if ((mes == 3 && dia >= 20) || (mes == 4 && dia <= 19)) return "â™ˆ Aries";
      if ((mes == 4 && dia >= 20) || (mes == 5 && dia <= 20)) return "â™‰ Tauro";
      if ((mes == 5 && dia >= 21) || (mes == 6 && dia <= 20)) return "â™Š GÃ©minis";
      if ((mes == 6 && dia >= 21) || (mes == 7 && dia <= 22)) return "â™‹ CÃ¡ncer";
      if ((mes == 7 && dia >= 23) || (mes == 8 && dia <= 22)) return "â™Œ Leo";
      if ((mes == 8 && dia >= 23) || (mes == 9 && dia <= 22)) return "â™ Virgo";
      if ((mes == 9 && dia >= 23) || (mes == 10 && dia <= 22)) return "â™Ž Libra";
      if ((mes == 10 && dia >= 23) || (mes == 11 && dia <= 21)) return "â™ Escorpio";
      if ((mes == 11 && dia >= 22) || (mes == 12 && dia <= 21)) return "â™ Sagitario";
      if ((mes == 12 && dia >= 22) || (mes == 1 && dia <= 19)) return "â™‘ Capricornio";
      if ((mes == 1 && dia >= 20) || (mes == 2 && dia <= 18)) return "â™’ Acuario";
      if ((mes == 2 && dia >= 19) || (mes == 3 && dia <= 20)) return "â™“ Piscis";
      
      return "Signo no determinado";
    }

    // FunciÃ³n para calcular la fase lunar actual
    function calcularFaseLunar() {
      const hoy = new Date();
      const aÃ±o = hoy.getFullYear();
      const mes = hoy.getMonth();
      const dia = hoy.getDate();
      
      // CÃ¡lculo aproximado de la fase lunar
      const lunaciÃ³nDias = 29.53058867; // DuraciÃ³n promedio de un ciclo lunar
      const fechaReferencia = new Date(2000, 0, 6); // Luna nueva conocida
      const diferenciaDias = (hoy - fechaReferencia) / (1000 * 60 * 60 * 24);
      const cicloActual = diferenciaDias / lunaciÃ³nDias;
      const faseDecimal = cicloActual - Math.floor(cicloActual);
      
      if (faseDecimal < 0.125) return "ðŸŒ‘ Luna Nueva";
      if (faseDecimal < 0.375) return "ðŸŒ’ Luna Creciente";
      if (faseDecimal < 0.625) return "ðŸŒ• Luna Llena";
      if (faseDecimal < 0.875) return "ðŸŒ˜ Luna Menguante";
      return "ðŸŒ‘ Luna Nueva";
    }

    function mostrarCarta(carta) {
      document.getElementById("nombreCarta").textContent = carta.nombre;
      document.getElementById("imagenCarta").src = carta.imagen;
      document.getElementById("resumenCarta").textContent = carta.resumen;
      document.getElementById("palabrasClaveCarta").textContent = carta.palabrasClave;
      document.getElementById("consejoCarta").textContent = carta.consejo;
      
      // Mostrar signo zodiacal y fase lunar
      const fecha = document.getElementById("fechaNacimiento").value;
      if (fecha) {
        document.getElementById("signoZodiaco").textContent = calcularSignoZodiacal(fecha);
      }
      document.getElementById("faseLunar").textContent = calcularFaseLunar();
      
      document.getElementById("resultado").style.display = "block";
      document.getElementById("botonCompartir").style.display = "inline-block";
    }

    function iniciarLectura() {
      const fecha = document.getElementById("fechaNacimiento").value;
      const pregunta = document.getElementById("preguntaUsuario").value;

      if (!fecha) {
        alert("Por favor completÃ¡ tu fecha de nacimiento.");
        return;
      }

      document.getElementById("mensajeBarajar").style.display = "block";

      setTimeout(() => {
        document.getElementById("mensajeBarajar").style.display = "none";
        tirarCarta();
      }, 3000); // 3 segundos
    }

    function tirarCarta() {
      const today = new Date().toISOString().split('T')[0];
      const savedData = JSON.parse(localStorage.getItem('cartaDelDia'));

      if (savedData && savedData.fecha === today) {
        alert("Ya sacaste tu carta del dÃ­a âœ¨ VolvÃ© maÃ±ana.");
        mostrarCarta(savedData.carta);
        return;
      }

      const carta = cartas[Math.floor(Math.random() * cartas.length)];
      localStorage.setItem('cartaDelDia', JSON.stringify({ fecha: today, carta }));
      mostrarCarta(carta);
    }

    function compartirCarta() {
      const carta = document.getElementById("nombreCarta").textContent;
      const resumen = document.getElementById("resumenCarta").textContent;
      const palabras = document.getElementById("palabrasClaveCarta").textContent;
      const consejo = document.getElementById("consejoCarta").textContent;
      const signo = document.getElementById("signoZodiaco").textContent;
      const fase = document.getElementById("faseLunar").textContent;
      const mensaje = `Mi carta del dÃ­a es ${carta}: ðŸŒŸ ${resumen}\nðŸ”‘ ${palabras}\nðŸ§­ ${consejo}\nâœ¨ ${signo}\nðŸŒ™ ${fase}`;

      if (navigator.share) {
        navigator.share({
          title: 'Mi carta del dÃ­a',
          text: mensaje,
          url: window.location.href
        });
      } else {
        alert("CompartÃ­ este mensaje:\n" + mensaje);
      }
    }

    // Mostrar automÃ¡ticamente si ya sacÃ³ una carta hoy
    window.addEventListener('DOMContentLoaded', () => {
      const today = new Date().toISOString().split('T')[0];
      const savedData = JSON.parse(localStorage.getItem('cartaDelDia'));
      if (savedData && savedData.fecha === today) {
        mostrarCarta(savedData.carta);
      }
    });

    function generarImagen() {
      const elemento = document.getElementById("resultado");

      html2canvas(elemento, {
        useCORS: true,       // permite usar crossorigin
        allowTaint: false    // no taints the canvas
      }).then(canvas => {
        canvas.toBlob(blob => {
          const archivo = new File([blob], 'mi-carta.png', { type: 'image/png' });

          // Si el navegador soporta compartir archivos (mÃ³viles)
          if (navigator.canShare && navigator.canShare({ files: [archivo] })) {
            navigator.share({
              title: 'Mi carta del dÃ­a',
              text: 'Â¡MirÃ¡ mi carta de tarot! âœ¨',
              files: [archivo]
            })
            .catch(err => {
              // Si el usuario cancelÃ³ el diÃ¡logo, simplemente no descargamos
              if (err.name !== 'AbortError') {
                console.error("Error al compartir:", err);
                alert("No se pudo compartir tu carta.");
              }
            });
          } else {
            // Si no se puede compartir (desktop, etc.), lo descargamos
            const enlace = document.createElement('a');
            enlace.href = URL.createObjectURL(blob);
            enlace.download = "mi-carta.png";
            enlace.click();
          }
        });
      });
    }
  </script>
  
</body>
</html>

