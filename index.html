<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Luz de Luna ‚Äì Tarot</title>
  <style>
    body { font-family:Arial, sans-serif; background:#fff; color:#333; text-align:center; padding:20px; }
    .form-container { max-width:400px; margin:auto; padding:20px; background:#f0e6f6; border-radius:15px; box-shadow:0 0 10px #d1b3e0; }
    input, button { width:90%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #ccc; font-size:1em; }
    button { background:#6a0dad; color:#fff; font-weight:bold; cursor:pointer; }
    button:hover { background:#7e3ff2; }
    #mensaje { font-style:italic; margin:20px 0; }
    #resultado { margin-top:20px; }
  </style>
</head>
<body>
  <h1>Luz de Luna ‚Äì Tarot Personalizado</h1>
  <div class="form-container">
    <h2>‚ú® Tu lectura energ√©tica ‚ú®</h2>
    <label>Fecha de nacimiento:</label><br>
    <input type="date" id="fecha"><br>
    <label>Tu pregunta o intenci√≥n:</label><br>
    <input type="text" id="pregunta" placeholder="¬øQu√© necesito saber hoy?"><br>
    <button onclick="tirarCarta()">Tirar la carta</button>
  </div>

  <div id="mensaje" style="display:none;"></div>
  <div id="resultado"></div>

  <script>
    const cartas = ["El Loco","El Mago","La Sacerdotisa","La Emperatriz","El Emperador","El Papa","Los Enamorados","El Carro","La Justicia","El Ermita√±o","La Rueda de la Fortuna","La Fuerza","El Colgado","La Muerte","La Templanza","El Diablo","La Torre","La Estrella","La Luna","El Sol","El Juicio","El Mundo"];

    function signoZodiacal(d) {
      const m = d.getMonth()+1, day = d.getDate();
      const zodiacs = [
        {sign:"Capricornio", end:19},{sign:"Acuario", end:18},{sign:"Piscis", end:20},{sign:"Aries", end:19},
        {sign:"Tauro", end:20},{sign:"G√©minis", end:20},{sign:"C√°ncer", end:22},{sign:"Leo", end:22},
        {sign:"Virgo", end:22},{sign:"Libra", end:22},{sign:"Escorpio", end:22},{sign:"Sagitario", end:21}
      ];
      return (day > zodiacs[m-1].end) ? zodiacs[m % 12].sign : zodiacs[m-1].sign;
    }

    function faseLunar(day, month, year) {
      // C√°lculo aproximado de la fase lunar (simplificado)
      const c = new Date(year, month, day).getTime() / 1000;
      const moonAge = (c / 86400) % 29.53;
      if(moonAge < 1.845) return "Luna Nueva";
      if(moonAge < 9.225) return "Cuarto Creciente";
      if(moonAge < 14.765) return "Luna Llena";
      if(moonAge < 22.305) return "Cuarto Menguante";
      return "Luna Vieja";
    }

    function tirarCarta() {
      const f = document.getElementById('fecha').value;
      const q = document.getElementById('pregunta').value;
      if(!f) return alert("Ingresa tu fecha de nacimiento.");
      document.getElementById('mensaje').style.display = "block";
      document.getElementById('mensaje').innerText = "Conectando con tu energ√≠a...";
      document.getElementById('resultado').innerHTML = "";

      setTimeout(() => {
        const fecha = new Date(f);
        const carta = cartas[Math.floor(Math.random()*cartas.length)];
        let html = `<h2>üÉè Tu carta es: <strong>${carta}</strong></h2>`;
        html += `<p><strong>Signo zodiacal:</strong> ${signoZodiacal(fecha)}</p>`;
        html += `<p><strong>Fase lunar hoy:</strong> ${faseLunar(fecha.getDate(), fecha.getMonth(), fecha.getFullYear())}</p>`;
        if(q) html += `<p><strong>Tu intenci√≥n:</strong> ¬´${q}¬ª</p>`;
        html += `<p>‚ú® Mensaje del tarot: <em>"Interpreta seg√∫n tu alma"</em></p>`;
        document.getElementById('mensaje').style.display = "none";
        document.getElementById('resultado').innerHTML = html;
      }, 3000);
    }
  </script>
</body>
</html>
